(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[639],{5317:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>j});var s=t(5155),i=t(2115),a=t(5695),n=t(5568),r=t(9286),d=t(8832),o=t(7802),m=t(9694),c=t(7129),x=t(6766),u=t(6132);let h=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],f=".pdf,.doc,.docx",p=e=>{var l,t,a;let{setErrorMessage:n,analysisResult:r,setAnalysisResult:d,fileMetadata:o,setFileMetadata:p,existingFiles:b,setExistingFiles:g,newFile:v,setNewFile:C}=e,j=e=>{let l=document.getElementById(e);l&&(l.value="")},w=c.Ik({existing_files:c.YO().of(c.gl().test("fileSize","File too large (max 5MB)",e=>!e||e.size<=5242880).test("fileType","Only PDF and Word documents are supported",e=>!e||h.includes(e.type))).min(1,"At least one existing file is required").required("Existing files are required"),new_file:c.gl().required("New file is required").test("fileSize","File too large (max 5MB)",e=>!e||e.size<=5242880).test("fileType","Only PDF and Word documents are supported",e=>!e||h.includes(e.type)),temperature:c.Yj().matches(/^-?\d*\.?\d+$/,"Must be a number").notRequired()}),N=(0,m.Wx)({initialValues:{existing_files:b,new_file:v,temperature:"0.7"},validationSchema:w,enableReinitialize:!0,onSubmit:async e=>{n(null);let l=new FormData;e.existing_files.forEach(e=>{l.append("existing_files",e)}),e.new_file&&l.append("new_file",e.new_file),e.temperature?l.append("temperature",parseFloat(e.temperature).toString()):l.append("temperature","");try{let e=await fetch(u.Q.analyzeRFP,{method:"POST",body:l});if(!e.ok){let l=await e.json();throw Error("Failed to analyze files: ".concat(l.message||e.statusText))}let t=await e.json();if(t.ok&&t.comparison_table)d(t);else throw Error("Invalid response format from server");N.resetForm(),p({}),g([]),C(null),j("existing-files-input"),j("new-file-input")}catch(e){n(e.message||"An error occurred while uploading files.")}}});(0,i.useEffect)(()=>{g(N.values.existing_files)},[N.values.existing_files]),(0,i.useEffect)(()=>{C(N.values.new_file)},[N.values.new_file]);let y=e=>{let l=N.values.existing_files.filter((l,t)=>t!==e);N.setFieldValue("existing_files",l)};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("form",{onSubmit:N.handleSubmit,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)("div",{className:"w-[50%] p-12 bg-white rounded-lg shadow-md border-o2 relative",children:[(0,s.jsx)("h3",{className:"block font-medium text-gray-700 mb-1 text-[20px] mb-3",children:"Existing Files *"}),(0,s.jsxs)("div",{className:"inputdesign rounded-lg  flex flex-col items-center",children:[(0,s.jsx)(x.default,{src:"/browse-a-file.svg",alt:"Browse a file",width:188,height:81,className:"imagfilter mb-4"}),(0,s.jsx)("label",{htmlFor:"existing-files-input",className:"mb-4 bluebtn-custome block w-full text-sm text-gray-500 p-6 mx-auto w-[350px] file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 cursor-pointer",children:"Choose a file"}),(0,s.jsx)("input",{id:"existing-files-input",type:"file",multiple:!0,onChange:e=>{let l=e.target.files;if(l){let e=Array.from(l),t=e.filter(e=>!N.values.existing_files.some(l=>l.name===e.name)),s={...o};e.forEach(e=>{let l=e.webkitRelativePath||e.name;s[e.name]={path:l,size:"".concat((e.size/1024).toFixed(1)," KB"),lastModified:new Date(e.lastModified).toLocaleString()}}),p(s),N.setFieldValue("existing_files",[...N.values.existing_files,...t])}},onBlur:N.handleBlur,className:"hidden",accept:f},N.values.existing_files.length),(0,s.jsx)("div",{className:"osubtitle mb-6",children:"*.PDF, *.DOC format are supported. Max 10 MB"})]}),N.values.existing_files.length>0&&(0,s.jsx)("div",{className:"mt-2 flex flex-col gap-2",children:N.values.existing_files.map((e,l)=>{var t,i;return(0,s.jsxs)("div",{className:"flex items-center gap-3 bg-[#3C77EF] p-6 rounded-lg",children:[(0,s.jsx)("div",{children:(0,s.jsxs)("svg",{width:"38",height:"43",viewBox:"0 0 38 43",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M28.3477 0.240234V9.36873H37.4761L28.3477 0.240234Z",fill:"white"}),(0,s.jsx)("path",{d:"M27.6128 10.75C27.2404 10.75 26.9393 10.4497 26.9393 10.0781V0H2.69393C1.20486 0 0 1.20198 0 2.6875V40.3125C0 41.798 1.20486 43 2.69393 43H35.0211C36.5102 43 37.7151 41.798 37.7151 40.3125V10.75H27.6128ZM7.40832 12.0938H18.1841C18.5565 12.0938 18.8575 12.3941 18.8575 12.7656C18.8575 13.1372 18.5565 13.4375 18.1841 13.4375H7.40832C7.03588 13.4375 6.73484 13.1372 6.73484 12.7656C6.73484 12.3941 7.03588 12.0938 7.40832 12.0938ZM30.3068 34.2656H7.40832C7.03588 34.2656 6.73484 33.9653 6.73484 33.5938C6.73484 33.2222 7.03588 32.9219 7.40832 32.9219H30.3068C30.6792 32.9219 30.9802 33.2222 30.9802 33.5938C30.9802 33.9653 30.6792 34.2656 30.3068 34.2656ZM30.3068 30.2344H7.40832C7.03588 30.2344 6.73484 29.934 6.73484 29.5625C6.73484 29.191 7.03588 28.8906 7.40832 28.8906H30.3068C30.6792 28.8906 30.9802 29.191 30.9802 29.5625C30.9802 29.934 30.6792 30.2344 30.3068 30.2344ZM30.3068 26.2031H7.40832C7.03588 26.2031 6.73484 25.9028 6.73484 25.5312C6.73484 25.1597 7.03588 24.8594 7.40832 24.8594H30.3068C30.6792 24.8594 30.9802 25.1597 30.9802 25.5312C30.9802 25.9028 30.6792 26.2031 30.3068 26.2031ZM30.3068 22.1719H7.40832C7.03588 22.1719 6.73484 21.8715 6.73484 21.5C6.73484 21.1285 7.03588 20.8281 7.40832 20.8281H30.3068C30.6792 20.8281 30.9802 21.1285 30.9802 21.5C30.9802 21.8715 30.6792 22.1719 30.3068 22.1719ZM30.3068 18.1406H7.40832C7.03588 18.1406 6.73484 17.8403 6.73484 17.4688C6.73484 17.0972 7.03588 16.7969 7.40832 16.7969H30.3068C30.6792 16.7969 30.9802 17.0972 30.9802 17.4688C30.9802 17.8403 30.6792 18.1406 30.3068 18.1406Z",fill:"white"})]})}),(0,s.jsxs)("div",{className:"p-2",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600 block font-medium text-white mb-2",children:e.name}),(0,s.jsxs)("div",{className:"text-sm text-gray-500 flex gap-2 content-center",children:[(0,s.jsxs)("span",{className:"text-white",children:["Size: ",(null===(t=o[e.name])||void 0===t?void 0:t.size)||"Calculating..."]}),(0,s.jsx)("span",{className:"text-white",children:"|"}),(0,s.jsxs)("span",{className:"text-white",children:["Modified: ",(null===(i=o[e.name])||void 0===i?void 0:i.lastModified)||"Unknown"]})]})]}),(0,s.jsx)("button",{type:"button",onClick:()=>y(l),className:"text-white px-5 py-1 text-[20px] rounded",children:"\xd7"})]},l)})}),N.touched.existing_files&&N.errors.existing_files&&(0,s.jsx)("div",{className:"text-red-500 text-sm mt-1",children:(e=>"string"==typeof e?(0,s.jsx)("div",{children:e}):Array.isArray(e)?e.map((e,l)=>"string"==typeof e?(0,s.jsx)("div",{children:e},l):e&&"object"==typeof e?(0,s.jsx)("div",{children:Object.values(e).map((e,l)=>(0,s.jsx)("div",{children:String(e)},l))},l):null):e&&"object"==typeof e?Object.values(e).map((e,l)=>(0,s.jsx)("div",{children:String(e)},l)):null)(N.errors.existing_files)}),(0,s.jsxs)("div",{className:"CompareIcon absolute",children:[(0,s.jsxs)("svg",{width:"39",height:"32",viewBox:"0 0 39 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M37.2262 21.3551H23.7783L27.8431 17.2787C28.1661 16.9434 28.3447 16.4943 28.3407 16.0282C28.3367 15.5621 28.1502 15.1162 27.8215 14.7866C27.4929 14.457 27.0482 14.27 26.5834 14.2659C26.1186 14.2619 25.6708 14.4411 25.3365 14.7649L18.2456 21.876C17.9133 22.2094 17.7266 22.6615 17.7266 23.1329C17.7266 23.6043 17.9133 24.0564 18.2456 24.3898L25.3365 31.5009C25.6708 31.8247 26.1186 32.0039 26.5834 31.9999C27.0482 31.9958 27.4929 31.8089 27.8215 31.4793C28.1502 31.1496 28.3367 30.7038 28.3407 30.2376C28.3447 29.7715 28.1661 29.3224 27.8431 28.9871L23.7783 24.9107H37.2262C37.6963 24.9107 38.1472 24.7234 38.4797 24.39C38.8121 24.0566 38.9989 23.6044 38.9989 23.1329C38.9989 22.6614 38.8121 22.2092 38.4797 21.8758C38.1472 21.5424 37.6963 21.3551 37.2262 21.3551Z",fill:"#8337D4"}),(0,s.jsx)("path",{d:"M0 8.91073C0 8.43924 0.186769 7.98705 0.51922 7.65366C0.851671 7.32026 1.30257 7.13296 1.77273 7.13296H15.2206L11.1558 3.05651C10.9865 2.89252 10.8514 2.69635 10.7585 2.47945C10.6656 2.26256 10.6167 2.02928 10.6146 1.79323C10.6126 1.55717 10.6575 1.32308 10.7466 1.10459C10.8357 0.886112 10.9674 0.687619 11.1338 0.520699C11.3002 0.353779 11.4982 0.221773 11.716 0.132385C11.9339 0.0429967 12.1673 -0.00198411 12.4027 6.7123e-05C12.6381 0.00211835 12.8707 0.0511606 13.087 0.144332C13.3033 0.237504 13.4989 0.372939 13.6624 0.542735L20.7533 7.65385C21.0857 7.98723 21.2723 8.43933 21.2723 8.91073C21.2723 9.38214 21.0857 9.83424 20.7533 10.1676L13.6624 17.2787C13.4989 17.4485 13.3033 17.584 13.087 17.6771C12.8707 17.7703 12.6381 17.8194 12.4027 17.8214C12.1673 17.8235 11.9339 17.7785 11.716 17.6891C11.4982 17.5997 11.3002 17.4677 11.1338 17.3008C10.9674 17.1338 10.8357 16.9354 10.7466 16.7169C10.6575 16.4984 10.6126 16.2643 10.6146 16.0282C10.6167 15.7922 10.6656 15.5589 10.7585 15.342C10.8514 15.1251 10.9865 14.929 11.1558 14.765L15.2206 10.6885H1.77273C1.30257 10.6885 0.851671 10.5012 0.51922 10.1678C0.186769 9.83441 0 9.38223 0 8.91073Z",fill:"#3C77EF"})]}),(0,s.jsx)("span",{className:"osubtitle mt-1",children:"Compare"})]})]}),(0,s.jsxs)("div",{className:"w-[50%] p-12 bg-white rounded-lg shadow-md border-o2",children:[(0,s.jsx)("h3",{className:"block font-medium text-gray-700 mb-1 text-[20px] mb-3",children:"New File Upload *"}),(0,s.jsxs)("div",{className:"inputdesign-new rounded-lg flex flex-col items-center",children:[(0,s.jsx)(x.default,{src:"/NewFileUpload.svg",alt:"Browse a file",width:188,height:81,className:"imagfilter mb-4"}),(0,s.jsx)("label",{htmlFor:"new-file-input",className:"mb-4 bluebtn-custome-new block w-full text-sm text-gray-500 p-6 mx-auto w-[350px] file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 cursor-pointer",children:"Choose a file"}),(0,s.jsx)("input",{id:"new-file-input",type:"file",onChange:e=>{var l;let t=(null===(l=e.target.files)||void 0===l?void 0:l[0])||null;if(t){let e=t.webkitRelativePath||t.name;p({...o,[t.name]:{path:e,size:"".concat((t.size/1024).toFixed(1)," KB"),lastModified:new Date(t.lastModified).toLocaleString()}})}N.setFieldValue("new_file",t)},onBlur:N.handleBlur,className:"hidden",accept:f},(null===(l=N.values.new_file)||void 0===l?void 0:l.name)||"empty"),(0,s.jsx)("div",{className:"osubtitle mb-6",children:"*.PDF, *.DOC format are supported. Max 10 MB"})]}),N.touched.new_file&&N.errors.new_file&&(0,s.jsx)("div",{className:"text-red-500 text-sm mt-1 text-white",children:String(N.errors.new_file)}),N.values.new_file&&(0,s.jsxs)("div",{className:"flex items-center gap-3 mt-2 bg-[#8337D4] p-6 rounded-lg",children:[(0,s.jsx)("div",{children:(0,s.jsxs)("svg",{width:"38",height:"43",viewBox:"0 0 38 43",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M28.3477 0.240234V9.36873H37.4761L28.3477 0.240234Z",fill:"white"}),(0,s.jsx)("path",{d:"M27.6128 10.75C27.2404 10.75 26.9393 10.4497 26.9393 10.0781V0H2.69393C1.20486 0 0 1.20198 0 2.6875V40.3125C0 41.798 1.20486 43 2.69393 43H35.0211C36.5102 43 37.7151 41.798 37.7151 40.3125V10.75H27.6128ZM7.40832 12.0938H18.1841C18.5565 12.0938 18.8575 12.3941 18.8575 12.7656C18.8575 13.1372 18.5565 13.4375 18.1841 13.4375H7.40832C7.03588 13.4375 6.73484 13.1372 6.73484 12.7656C6.73484 12.3941 7.03588 12.0938 7.40832 12.0938ZM30.3068 34.2656H7.40832C7.03588 34.2656 6.73484 33.9653 6.73484 33.5938C6.73484 33.2222 7.03588 32.9219 7.40832 32.9219H30.3068C30.6792 32.9219 30.9802 33.2222 30.9802 33.5938C30.9802 33.9653 30.6792 34.2656 30.3068 34.2656ZM30.3068 30.2344H7.40832C7.03588 30.2344 6.73484 29.934 6.73484 29.5625C6.73484 29.191 7.03588 28.8906 7.40832 28.8906H30.3068C30.6792 28.8906 30.9802 29.191 30.9802 29.5625C30.9802 29.934 30.6792 30.2344 30.3068 30.2344ZM30.3068 26.2031H7.40832C7.03588 26.2031 6.73484 25.9028 6.73484 25.5312C6.73484 25.1597 7.03588 24.8594 7.40832 24.8594H30.3068C30.6792 24.8594 30.9802 25.1597 30.9802 25.5312C30.9802 25.9028 30.6792 26.2031 30.3068 26.2031ZM30.3068 22.1719H7.40832C7.03588 22.1719 6.73484 21.8715 6.73484 21.5C6.73484 21.1285 7.03588 20.8281 7.40832 20.8281H30.3068C30.6792 20.8281 30.9802 21.1285 30.9802 21.5C30.9802 21.8715 30.6792 22.1719 30.3068 22.1719ZM30.3068 18.1406H7.40832C7.03588 18.1406 6.73484 17.8403 6.73484 17.4688C6.73484 17.0972 7.03588 16.7969 7.40832 16.7969H30.3068C30.6792 16.7969 30.9802 17.0972 30.9802 17.4688C30.9802 17.8403 30.6792 18.1406 30.3068 18.1406Z",fill:"white"})]})}),(0,s.jsxs)("div",{className:"p-2",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600 block font-medium text-white mb-2",children:N.values.new_file.name}),(0,s.jsxs)("div",{className:"text-sm text-white flex gap-3",children:[(0,s.jsxs)("span",{children:["Size: ",(null===(t=o[N.values.new_file.name])||void 0===t?void 0:t.size)||"Calculating..."]}),(0,s.jsx)("span",{children:"|"}),(0,s.jsxs)("span",{children:["Modified: ",(null===(a=o[N.values.new_file.name])||void 0===a?void 0:a.lastModified)||"Unknown"]})]})]})]})]})]}),(0,s.jsx)("div",{className:"flex mt-12 mb-12",children:(0,s.jsx)("button",{type:"submit",className:"bg-blue-600 text-white py-4 px-4 rounded hover:bg-blue-700 disabled:bg-blue-300 w-[250px] m-auto",disabled:N.isSubmitting,children:N.isSubmitting?"Comparing...":"Compare RFPs"})})]}),r&&r.comparison_table&&r.comparison_table.length>0&&(0,s.jsx)("div",{className:"mt-8 p-6 rounded-lg border border-gray-200 bg-white",children:r.comparison_table.map((e,l)=>(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:e.title}),(0,s.jsxs)("div",{className:"mb-4 text-base osubtitle",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Document 1:"})," ",e.left_doc]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Document 2:"})," ",e.right_doc]})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full border-collapse border border-gray-200",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{className:"bg-gray-100",children:e.columns.map((e,l)=>(0,s.jsx)("th",{className:"border border-gray-200 px-4 py-4 text-left text-base font-semibold text-gray-700",children:e},l))})}),(0,s.jsx)("tbody",{children:e.rows.map((e,l)=>(0,s.jsxs)("tr",{className:l%2==0?"bg-white":"bg-gray-50",children:[(0,s.jsx)("td",{className:"border border-gray-200 px-4 py-4 text-base font-semibold",children:e.section}),(0,s.jsx)("td",{className:"border border-gray-200 px-4 py-4 text-base",children:e.left}),(0,s.jsx)("td",{className:"border border-gray-200 px-4 py-4 text-base",children:e.right})]},l))})]})})]},l))})]})};var b=t(792);let g=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],v=e=>{var l,t,a;let{setErrorMessage:n,summarizeResult:r,setSummarizeResult:d,fileMetadata:o,setFileMetadata:h,file:f,setFile:p,tocHint:v,setTocHint:C}=e,j=e=>{let l=document.getElementById(e);l&&(l.value="")},w=c.Ik({file:c.gl().required("File is required").test("fileSize","File too large (max 5MB)",e=>!e||e.size<=5242880).test("fileType","Only PDF and Word documents are supported",e=>!e||g.includes(e.type)),temperature:c.Yj().matches(/^-?\d*\.?\d+$/,"Must be a number").notRequired(),toc_hint:c.Yj().notRequired()}),N=(0,m.Wx)({initialValues:{file:f,temperature:"0.3",toc_hint:v},validationSchema:w,enableReinitialize:!0,onSubmit:async e=>{if(n(null),d(null),!e.file){n("File is required");return}let l=new FormData;l.append("file",e.file),l.append("temperature",e.temperature),l.append("toc_hint",e.toc_hint);try{let e=await fetch(u.Q.summarizeRFP,{method:"POST",body:l});if(!e.ok){let l=await e.json();throw Error("Failed to summarize file: ".concat(l.message||e.statusText))}let t=await e.json();d(t),N.resetForm(),h({}),p(null),C(""),j("summarize-file-input")}catch(e){n(e.message||"An error occurred while summarizing the file.")}}});return(0,i.useEffect)(()=>{p(N.values.file)},[N.values.file]),(0,i.useEffect)(()=>{C(N.values.toc_hint)},[N.values.toc_hint]),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("form",{onSubmit:N.handleSubmit,className:"space-y-4",children:[(0,s.jsx)("h3",{className:"block font-medium text-gray-700 mb-1 text-[18px] mb-3",children:"RFP File to Summarize *"}),(0,s.jsxs)("div",{className:"bg-white p-16 p-12 bg-white rounded-lg shadow-md border-o2 relative",children:[(0,s.jsxs)("div",{className:"inputdesign rounded-lg flex flex-col items-center",children:[(0,s.jsx)(x.default,{src:"/browse-a-file.svg",alt:"Browse a file",width:188,height:81,className:"imagfilter mb-6"}),(0,s.jsx)("label",{htmlFor:"summarize-file-input",className:"mb-4 bluebtn-custome block w-full text-sm text-gray-500 p-6 mx-auto w-[350px] file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 cursor-pointer",children:"Choose a file"}),(0,s.jsx)("input",{id:"summarize-file-input",type:"file",onChange:e=>{var l;let t=(null===(l=e.target.files)||void 0===l?void 0:l[0])||null;if(t){let e=t.webkitRelativePath||t.name;h({...o,[t.name]:{path:e,size:"".concat((t.size/1024).toFixed(1)," KB"),lastModified:new Date(t.lastModified).toLocaleString()}})}N.setFieldValue("file",t)},onBlur:N.handleBlur,className:"hidden",accept:".pdf,.doc,.docx"},(null===(l=N.values.file)||void 0===l?void 0:l.name)||"empty"),(0,s.jsx)("div",{className:"osubtitle mb-6",children:"*.PDF, *.DOC format are supported. Max 10 MB"})]}),N.touched.file&&N.errors.file&&(0,s.jsx)("div",{className:"text-red-500 text-sm mt-1",children:String(N.errors.file)}),N.values.file&&(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2 bg-[#3C77EF] p-6 rounded-lg mt-2",children:[(0,s.jsx)("div",{className:"",children:(0,s.jsxs)("svg",{width:"38",height:"43",viewBox:"0 0 38 43",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M28.3477 0.240234V9.36873H37.4761L28.3477 0.240234Z",fill:"white"}),(0,s.jsx)("path",{d:"M27.6128 10.75C27.2404 10.75 26.9393 10.4497 26.9393 10.0781V0H2.69393C1.20486 0 0 1.20198 0 2.6875V40.3125C0 41.798 1.20486 43 2.69393 43H35.0211C36.5102 43 37.7151 41.798 37.7151 40.3125V10.75H27.6128ZM7.40832 12.0938H18.1841C18.5565 12.0938 18.8575 12.3941 18.8575 12.7656C18.8575 13.1372 18.5565 13.4375 18.1841 13.4375H7.40832C7.03588 13.4375 6.73484 13.1372 6.73484 12.7656C6.73484 12.3941 7.03588 12.0938 7.40832 12.0938ZM30.3068 34.2656H7.40832C7.03588 34.2656 6.73484 33.9653 6.73484 33.5938C6.73484 33.2222 7.03588 32.9219 7.40832 32.9219H30.3068C30.6792 32.9219 30.9802 33.2222 30.9802 33.5938C30.9802 33.9653 30.6792 34.2656 30.3068 34.2656ZM30.3068 30.2344H7.40832C7.03588 30.2344 6.73484 29.934 6.73484 29.5625C6.73484 29.191 7.03588 28.8906 7.40832 28.8906H30.3068C30.6792 28.8906 30.9802 29.191 30.9802 29.5625C30.9802 29.934 30.6792 30.2344 30.3068 30.2344ZM30.3068 26.2031H7.40832C7.03588 26.2031 6.73484 25.9028 6.73484 25.5312C6.73484 25.1597 7.03588 24.8594 7.40832 24.8594H30.3068C30.6792 24.8594 30.9802 25.1597 30.9802 25.5312C30.9802 25.9028 30.6792 26.2031 30.3068 26.2031ZM30.3068 22.1719H7.40832C7.03588 22.1719 6.73484 21.8715 6.73484 21.5C6.73484 21.1285 7.03588 20.8281 7.40832 20.8281H30.3068C30.6792 20.8281 30.9802 21.1285 30.9802 21.5C30.9802 21.8715 30.6792 22.1719 30.3068 22.1719ZM30.3068 18.1406H7.40832C7.03588 18.1406 6.73484 17.8403 6.73484 17.4688C6.73484 17.0972 7.03588 16.7969 7.40832 16.7969H30.3068C30.6792 16.7969 30.9802 17.0972 30.9802 17.4688C30.9802 17.8403 30.6792 18.1406 30.3068 18.1406Z",fill:"white"})]})}),(0,s.jsxs)("div",{className:"mt-2 p-2",children:[(0,s.jsx)("span",{className:"text-base block font-medium text-white",children:N.values.file.name}),(0,s.jsxs)("div",{className:"text-base flex gap-3",children:[(0,s.jsxs)("span",{className:"text-white",children:["Size: ",(null===(t=o[N.values.file.name])||void 0===t?void 0:t.size)||"Calculating..."]}),(0,s.jsx)("span",{className:"text-white",children:"|"}),(0,s.jsxs)("span",{className:"text-white",children:["Modified: ",(null===(a=o[N.values.file.name])||void 0===a?void 0:a.lastModified)||"Unknown"]})]})]})]}),(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Table of Contents Hint"}),(0,s.jsx)("input",{type:"text",name:"toc_hint",value:N.values.toc_hint,onChange:N.handleChange,onBlur:N.handleBlur,className:"block w-full text-sm text-gray-700 border border-gray-300 rounded py-2 px-3",placeholder:"Enter TOC hint to help with summarization"}),N.touched.toc_hint&&N.errors.toc_hint&&(0,s.jsx)("div",{className:"text-red-500 text-sm mt-1",children:N.errors.toc_hint})]})]}),(0,s.jsx)("div",{className:"flex m-6",children:(0,s.jsx)("button",{type:"submit",className:"bg-blue-600 text-white py-4 px-4 rounded hover:bg-blue-700 disabled:bg-blue-300 w-[250px] m-auto",disabled:N.isSubmitting,children:N.isSubmitting?"Summarizing...":"Summarize RFP"})})]}),r&&(0,s.jsxs)("div",{className:"bg-white p-16 p-12 bg-white rounded-lg shadow-md border-o2 relative",children:[(0,s.jsxs)("div",{className:"p-4 rounded-lg",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Document Information"}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)("span",{children:["Filename:",r.filename]}),(0,s.jsx)("span",{children:"|"}),(0,s.jsxs)("span",{children:["Document Type:",r.doc_type]})]})]}),(0,s.jsxs)("div",{className:"p-4 rounded-lg",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Executive Summary"}),(0,s.jsx)("div",{className:"prose max-w-none",children:(0,s.jsx)(b.oz,{children:r.executive_summary})})]}),r.sections&&r.sections.length>0&&(0,s.jsxs)("div",{className:"p-4 rounded-lg",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Section Summaries"}),r.sections.map((e,l)=>(0,s.jsxs)("div",{className:"mb-4",children:[e.title&&(0,s.jsx)("h4",{className:"font-medium text-gray-800",children:e.title}),(0,s.jsx)("div",{className:"prose max-w-none",children:(0,s.jsx)(b.oz,{children:e.summary})})]},l))]}),r.docx_download_url&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("a",{href:"https://procuremindai-hvf9hxhbhfgvaaa7.centralindia-01.azurewebsites.net".concat(r.docx_download_url),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Download Summary Document"})})]})]})},C=()=>{let[e,l]=(0,i.useState)("analyze"),[t,a]=(0,i.useState)(null),[n,r]=(0,i.useState)(null),[d,o]=(0,i.useState)({}),[m,c]=(0,i.useState)([]),[x,u]=(0,i.useState)(null),[h,f]=(0,i.useState)(null),[b,g]=(0,i.useState)({}),[C,j]=(0,i.useState)(null),[w,N]=(0,i.useState)("");return(0,s.jsxs)("div",{className:"w-[80%] mx-auto",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mt-6 mb-4",children:"Analyze RFP"}),(0,s.jsxs)("div",{className:"flex border-b mb-6",children:[(0,s.jsx)("button",{className:"py-4 px-12 font-medium ".concat("analyze"===e?"text-blue-600 border-b-2 border-blue-600 bg-white shadow-md":"text-gray-500 "),onClick:()=>l("analyze"),children:"Compare RFPs"}),(0,s.jsx)("button",{className:"py-4 px-12 font-medium ".concat("summarize"===e?"text-blue-600 border-b-2 border-blue-600 bg-white shadow-md":"text-gray-500"),onClick:()=>l("summarize"),children:"Summarize RFP"})]}),(0,s.jsxs)("div",{className:"analyze-section",children:[t&&(0,s.jsx)("div",{className:"text-red-500 text-sm mt-2",children:t}),"analyze"===e?(0,s.jsx)(p,{setErrorMessage:a,analysisResult:n,setAnalysisResult:r,fileMetadata:d,setFileMetadata:o,existingFiles:m,setExistingFiles:c,newFile:x,setNewFile:u}):(0,s.jsx)(v,{setErrorMessage:a,summarizeResult:h,setSummarizeResult:f,fileMetadata:b,setFileMetadata:g,file:C,setFile:j,tocHint:w,setTocHint:N})]})]})};function j(){let e=(0,a.usePathname)(),[l,t]=(0,i.useState)(!0),[m,c]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=localStorage.getItem("sidebar-collapsed");null!==e&&t("true"===e)},[]);let x=!l||m,u=x?256:64,h="/document-search/analyze-rfp"===e;return(0,s.jsx)(r.q,{children:(0,s.jsxs)("div",{className:"flex overflow-hidden mt-16",children:[h&&(0,s.jsx)(n.A,{collapsed:l,hovered:m,toggleSidebar:()=>{let e=!l;localStorage.setItem("sidebar-collapsed",String(e)),t(e)},setHovered:c}),(0,s.jsx)(d.A,{sidebarOpen:h&&x}),(0,s.jsx)(o.A,{sidebarOpen:h&&x}),(0,s.jsx)("div",{className:"flex flex-col flex-1 transition-all duration-300 ease-in-out",style:{marginLeft:h?u:0},children:(0,s.jsx)("main",{children:(0,s.jsx)(C,{})})})]})})}},7531:(e,l,t)=>{Promise.resolve().then(t.bind(t,5317))}},e=>{var l=l=>e(e.s=l);e.O(0,[139,411,508,908,595,441,684,358],()=>l(7531)),_N_E=e.O()}]);